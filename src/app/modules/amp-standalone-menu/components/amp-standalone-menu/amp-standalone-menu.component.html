<div
    #menu
    class="steps-menu steps-menu--{{ theme }}"
    [class.steps-menu--open]="isOpen"
    [class.steps-menu--sticky]="isSticky"
    *ngIf="showMenu"
    [@openClosed]="openClosed"
    (window:resize)="onResize($event.target, menu)"
    (window:scroll)="onScroll()">
    <ng-content></ng-content>
    <nav role="navigation" class="steps-menu__nav">
        <ul class="steps-menu__list">
            <li *ngFor="let section of sections" id="{{ section.id }}" class="steps-menu__item" [ngClass]="section.state" [class.hidden]="section.hidden">
                <span class="steps-menu__step" *ngIf="isStateDisabled(section.state)">
                    {{ section.label }}
                </span>
                <a href="{{ section.anchorUrl }}" class="steps-menu__step" *ngIf="!isStateDisabled(section.state)" (click)="onSectionClick($event, section)">
                    {{ section.label }}
                </a>
                <span class="icon icon--tick" aria-hidden="true" *ngIf='useTickMarks'></span>
            </li>
        </ul>
    </nav>

    <button type="button" class="steps-menu__btn" *ngIf="!isOpen" (click)="onOpenClick()">
        <span aria-hidden="true">{{ currentSectionLabel }}</span>
        <span class="sr-only">Open menu</span>
        <span class="steps-menu__btn-icon icon icon--chevron-down" aria-hidden="true"></span>
    </button>

    <button type="button" class="steps-menu__btn steps-menu__btn--docked" *ngIf="isOpen" (click)="onCloseClick()">
        Close<span class="sr-only">&nbsp;menu</span>
        <span class="steps-menu__btn-icon icon icon--chevron-up" aria-hidden="true"></span>
    </button>

</div>
