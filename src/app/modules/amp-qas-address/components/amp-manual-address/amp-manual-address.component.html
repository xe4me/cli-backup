<div class='manual-address grid__item_container clearfix'>
    <div [hidden]='isInSummaryState'>
        <div class='form__row'>
            <div class="grid__container 1/1 palm-1/1">
                <div class='grid__item_floated mt+ 1/1 input-wrapper'>
                    <amp-country
                            (select)='onCountrySelect($event)'
                            #manualCountryCmp
                            [id]='country.id+"_"+index'
                            [controlGroup]='manualAddressCG'>
                    </amp-country>
                    <amp-error [controlGroup]='manualAddressCG' [controlId]="country.id+'_'+index"></amp-error>

                </div>
            </div>
        </div>
        <div class='form__row'>
            <div class="grid__container 1/1 palm-1/1">
                <div class='grid__item_floated mt 3/5 input-wrapper'>
                    <amp-input
                            #manualAddressCmp
                            class='1/1'
                            noPadding='true'
                            [id]='address.id+"_"+index'
                            [label]='address.label'
                            [controlGroup]='manualAddressCG'
                            [required]='required'
                            [errors]='address.errors'
                            [maxLength]='address.maxLength'
                            [minLength]='address.minLength'>
                    </amp-input>
                    <amp-error [controlGroup]='manualAddressCG' [controlId]="address.id+'_'+index"></amp-error>
                    <span class='comma-summary-state' *ngIf='isInSummaryState'>, </span>
                </div>
            </div>
        </div>
        <div class='form__row' [hidden]='!isCountryAUS && !isCountryNZ'>
            <div class="grid__container 1/1 palm-1/1">
                <div class="grid__item_container">
                    <div class='grid__item_floated mt+ 3/5  input-wrapper'>
                        <amp-input
                                #manualSuburbCmp
                                class='1/1'
                                [id]='suburb.id+"_"+index'
                                [label]='suburb.label'
                                [controlGroup]='manualAddressCG'
                                [pattern]='suburb.regex'
                                [required]='isCountryAUS '
                                [maxLength]='suburb.maxLength'
                                [minLength]='suburb.minLength'
                                [errors]='suburb.errors'>
                        </amp-input>
                        <amp-error [controlGroup]='manualAddressCG' [controlId]="suburb.id+'_'+index"></amp-error>
                        <span class='comma-summary-state' *ngIf='isInSummaryState'>, </span>
                    </div>
                </div>
            </div>
        </div>

        <div class='form__row'>
            <div class="grid__container 3/5 mt+ palm-1/1">
                <div class='grid__item_floated  pr 1/2 input-wrapper' [hidden]='!isCountryAUS'>
                    <amp-states
                            #manualStatesCmp
                            [id]='state.id+"_"+index'
                            [required]='isCountryAUS'
                            [controlGroup]='manualAddressCG'>
                    </amp-states>
                    <amp-error [controlGroup]='manualAddressCG' [controlId]="state.id+'_'+index"></amp-error>
                    <span class='comma-summary-state' *ngIf='isInSummaryState'>, </span>
                </div>
                <div class='grid__item_floated  pr 1/2 input-wrapper' [hidden]='isCountryAUS'>
                    <amp-input
                            #manualCityCmp
                            [id]='city.id+"_"+index'
                            [label]='getCityLabel()'
                            [required]='!isCountryAUS'
                            [maxLength]='city.maxLength'
                            [errors]='city.errors'
                            [minLength]="city.minLength"
                            [controlGroup]='manualAddressCG'>
                    </amp-input>
                    <amp-error [controlGroup]='manualAddressCG' [controlId]="city.id+'_'+index"></amp-error>
                    <span class='comma-summary-state' *ngIf='isInSummaryState'>, </span>
                </div>
                <div class='grid__item_floated  pl 1/2  input-wrapper'>
                    <amp-input
                            #manualPostcodeCmp
                            noPadding='true'
                            class='1/1'
                            [id]='postCode.id+"_"+index'
                            [label]='postCode.label'
                            [controlGroup]='manualAddressCG'
                            [required]='isCountryAUS || isCountryNZ'
                            [pattern]='getPostcodeRegex()'
                            [maxLength]='getPostcodeMaxLength()'
                            [errors]='postCode.errors'
                            [minLength]="getPostcodeMinLength()">
                    </amp-input>
                    <amp-error [controlGroup]='manualAddressCG' [controlId]="postCode.id+'_'+index"></amp-error>
                    <span class='comma-summary-state' *ngIf='isInSummaryState'>.</span>
                </div>
            </div>
        </div>
    </div>
    <div class='mt' *ngIf='isInSummaryState'>
        <span *ngIf='isCountryAUS' class='summary-state'>{{ addressCtrl?.value }}, {{ suburbCtrl?.value }}, {{ stateCtrl?.value }}, {{ postCodeCtrl?.value }}, {{ countryCtrl?.value }}.</span>
        <span *ngIf='isCountryNZ' class='summary-state'>{{ addressCtrl?.value }}, <span *ngIf='suburbCtrl?.value'>{{ suburbCtrl?.value }},</span> {{ cityCtrl?.value }}, {{ postCodeCtrl?.value }}, {{ countryCtrl?.value }}.</span>
        <span *ngIf='!isCountryAUS && !isCountryNZ' class='summary-state'>{{ addressCtrl?.value }}, {{ cityCtrl?.value }}, <span
                *ngIf='postCodeCtrl?.value'>{{ postCodeCtrl?.value }},</span> {{ countryCtrl?.value }}.</span>
    </div>
</div>
