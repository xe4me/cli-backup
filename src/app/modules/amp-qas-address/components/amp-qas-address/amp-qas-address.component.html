<div [hidden]='searchOrManualControl.value'>
    <amp-form-row>
        <div class='grid__item_floated  1/1'>
            <amp-typeahead
                    #typeaheadCmp
                    class='1/1'
                    [controlGroup]='qasControlGroup'
                    [required]='required && !searchOrManualControl.value'
                    [errors]='errors'
                    [keepControl]='keepControl'
                    [minTriggerLength]='minTriggerLength'
                    [customValidator]='customValidator'
                    [showErrorComponent]='false'
                    [queryServiceCall]='_ampQasAddressService.query'
                    [maxHeight]='maxHeight'
                    [isInSummaryState]='isInSummaryState'
                    id='TypeAhead'
                    [index]='index'
                    (selected)='onOptionSelect($event)'
                    [selectedItemIdentifier]='"Moniker"'
                    [selectedItemValueIdentifier]='"PartialAddress"'
                    [label]='label'>
                <template let-option='option'>
                    {{ option.PartialAddress }}
                </template>
            </amp-typeahead>

            <amp-control-error [control]='typeaheadCmp.control'>
                <template let-error='error'>
                    <error-item [error]='error' selector='addressNotFound'>
                        Enter your {{ addressType }} address manually by clicking <a href="javascript:void(0);"
                                                                                     (click)='showManualAddrForm()'>here</a>.
                    </error-item>
                </template>
            </amp-control-error>
            <div *ngIf='showResidentialAddressCannotBePoBoxError' class='errors'>
                <div class='error-item'>
                    <span class='icon icon--close icon-errors' aria-hidden='true'></span>You've selected a po box address, please select a residential address.
                </div>
            </div>
        </div>
    </amp-form-row>
</div>

<div [hidden]='!searchOrManualControl.value'>
    <div *ngIf='!extended'>
        <amp-manual-address
                (onGoBack)='goBack()'
                #manualAddressCmp
                [required]='required'
                [keepControl]='keepControl'
                [controlGroup]='qasControlGroup'
                id='ManualAddress'
                [index]='index'
                [isInSummaryState]='isInSummaryState'>
        </amp-manual-address>
    </div>
    <div *ngIf='extended'>
        <amp-manual-address-extended
                #manualAddressCmp
                (onGoBack)='goBack()'
                [required]='required'
                [keepControl]='keepControl'
                [controlGroup]='qasControlGroup'
                id='ManualAddressExtended'
                [addressType]='addressType'
                [index]='index'
                [isInSummaryState]='isInSummaryState'>
        </amp-manual-address-extended>
    </div>
</div>
